{
  "sheetID": "somegooglesheet",
  "name": "Municipal Bridge Intake",
  "sections": [
    {
      "title": "Applicant Information",
      "fields": [
        {
          "type": "text",
          "name": "sponsor",
          "label": "Project Sponsor",
          "required": true
        },
        {
          "type": "text",
          "name": "applicant",
          "label": "Applicant Name",
          "required": true
        },
        {
          "type": "email",
          "name": "email",
          "label": "Email Address",
          "placeholder": "name@gmail.com",
          "required": true,
          "validationPattern": "^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$",
          "validationWarning": "Please enter a valid email address."
        }
      ]
    },
    {
      "title": "Project Details",
      "fields": [
        {
          "type": "multiselect",
          "name": "county",
          "label": "Project Location",
          "required": true,
          "options": [
            "Bucks",
            "Chester",
            "Delaware",
            "Montgomery",
            "Philadelphia",
            "Burlington",
            "Camden",
            "Gloucester",
            "Mercer"
          ],
          "helperText": "What county(s) is the project located within?"
        },
        {
          "type": "select",
          "name": "existing_mrp",
          "label": "Is your project an existing Major Regional Project (MRP) per the current DVRPC Long-Range Plan?",
          "required": true,
          "options": ["yes", "no", "unsure"]
        },
        {
          "type": "multiselect",
          "name": "mrp_id",
          "label": "Existing MRP ID",
          "required": true,
          "condition": {
            "field": "existing_mrp",
            "value": "yes"
          },
          "fetchOptions": {
            "url": "https://services1.arcgis.com/LWtWv6q6BJyKidj8/ArcGIS/rest/services/MRP2050/FeatureServer/2/query?where=1=1&outFields=MRP_ID,FACILITY&f=json",
            "method": "GET",
            "valueField": "attributes.MRP_ID", 
            "labelField": ["attributes.MRP_ID", "attributes.FACILITY"],
            "labelSeparator": " - ",
            "target": "features"

          }
        },
        {
          "type": "select",
          "name": "existing_tip",
          "label": "Are there TIP projects associated with this project?",
          "required": true,
          "options": ["yes", "no", "unsure"]
        },
        {
          "type": "text",
          "name": "tip_id",
          "label": "MPMS (PA) or DB numbers (NJ) of associated projects.",
          "required": true,
          "condition": {
            "field": "existing_tip",
            "value": "yes"
          }
        },
        {
          "type": "text",
          "name": "title",
          "label": "Proposed Project Title",
          "required": true
        },
        {
          "type": "multiselect",
          "name": "project_subcat",
          "label": "Project Subcategory",
          "required": true,
          "options": [
            "R1.01 - Interstate Roadway Preservation & Modernization",
            "R1.02 - Non-Interstate Roadway Preservation & Modernization",
            "R1.03 - Local Federal Aid Roadways",
            "R2.01 - Interstate Bridge Preservation",
            "R2.02 - Non-Interstate Bridge Preservation",
            "R2.03 - Bridge Removal",
            "R2.04 - Local Bridges",
            "R3.01 - Substantive Safety Infrastructure",
            "R3.02 - Incident Management",
            "R4.01 - Accessibility Improvements",
            "R4.02 - Intersection Improvements",
            "R4.03 - Transportation Systems Management and Operations (TSMO)",
            "R4.04 - Vehicle Technology",
            "R5.01 - Major Road Network Expansion",
            "R5.02 - Minor Road Network Expansion",
            "R5.03 - Additionally Funded Road Network Expansion",
            "R6.01 - Bicycle and Pedestrian Network Expansion",
            "R6.02 - Off-Road Trail Resurfacing & Reconstruction",
            "R6.03 - Community Connections",
            "R6.04 - Environmental Mitigation & Resiliency",
            "R6.05 - Travel Demand Management",
            "R6.06 - Rail Improvements",
            "R6.07 - Regional Programs",
            "T1 - Transit Preservation & Modernization",
            "T2 - Transit Operational Improvements",
            "T3 - Transit System Expansion",
            "T4 - Transit Other"
          ],
          "helperText": "Select roadway project subcategories or transit categories that reflect the scope of the project (check all that apply). <a target='_blank' href='https://drive.google.com/file/d/1w5WYDPaWYf1URXI1FNYQoCL0NMc24KEC/view'>See full category descriptions.</a>"
        },
        {
          "type": "text",
          "name": "route_id",
          "label": "Facility or Route Name and Number",
          "required": true
        },
        {
          "type": "text",
          "name": "extent",
          "label": "Project Boundaries",
          "required": true,
          "helperText": "At which routes or other landmarks does the project start and terminate (terminus intersections/ PA road segments/ distance from known intersection)? If corridor is known but specific elements like ADA access is not, please provide corridor. Note: a project must be mappable in order to be modeled, evaluated, and receive funding, but can remain on the unfunded Vision Plan if no location is available."
        },
        {
          "type": "select",
          "name": "bridge_work",
          "label": "Does this project include work to one or more bridges?",
          "required": true,
          "options": ["yes", "no"]
        },
        {
          "type": "text",
          "name": "bridge_id",
          "label": "List all relevant Bridge Keys (PA)/Structure Numbers (NJ)",
          "required": true,
          "placeholder": "47695,47701",
          "condition": {
            "field": "bridge_work",
            "value": "yes"
          }
        },
        {
          "type": "textarea",
          "name": "scope",
          "label": "Project Scope",
          "required": true,
          "rows": 8,
          "placeholder": "Briefly describe the improvements to be made to the listed facility if funds are allocated. This description should be kept short for inclusion in the Plan document(s)."
        },
        {
          "type": "file",
          "name": "attachment",
          "label": "Attachment",
          "allowMultiple": true,
          "required": false
        }
      ]
    }
  ]
}
